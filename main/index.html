<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ExternalPoliceComputer</title>
    <link rel="stylesheet" href="/main/elements.css" />
    <link rel="stylesheet" href="/main/styles.css" />
    <link rel="stylesheet" href="/customStyles" />
    <link rel="icon" href="/favicon" />
    <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@400;700&display=swap" rel="stylesheet">
  </head>
<body>

<div id="errorBox" class="error-box hidden"></div>

<div id="login-screen">
      <h2>CAD Login</h2>
      <form id="login-form">
        <label for="username">Username</label>
        <input type="text" id="username" class="login-input" placeholder="Username" required />
        
        <label for="password">Password</label>
        <input type="password" id="password" class="login-input" placeholder="Password" required />
    
        <button type="button" onclick="login()">Login</button>
        <button type="button" onclick="showCreateProfile()" class="secondary-button">Create New Profile</button>
      </form>
</div>
<!-- Profile Creation Screen (Initially Hidden) -->
<div id="create-profile-screen" style="display: none;">
  <h2>Create New Profile</h2>
  <form id="create-profile-form">
    <label for="new-username">Username</label>
    <input type="text" id="new-username" class="login-input" placeholder="Username" required />
    
    <label for="new-password">Password</label>
    <input type="password" id="new-password" class="login-input" placeholder="Password" required />
    
    <label for="character-name">Character Name</label>
    <input type="text" id="character-name" class="login-input" placeholder="Character Name" required />
    
    <label for="badge-number">Badge Number</label>
    <input type="text" id="badge-number" class="login-input" placeholder="Badge Number" required />

    <button type="button" onclick="createProfile()">Create Profile</button>
    <button type="button" onclick="showLogin()" class="secondary-button">Back to Login</button>
  </form>
</div>

<!-- Main Content (Hidden until login) -->
<div id="main-content" style="display: none;">
  <div class="header">
    <button class="header-button-logout logout" onclick="logout()">Logout</button>
    <div class="header-left group">
      <button class="welcome main-button" id="welcome-tab" onclick="navigateToPage('welcome')"><svg class="icon" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="26" height="26" viewBox="0 0 24 24">
        <path d="M 12 2 A 1 1 0 0 0 11.289062 2.296875 L 1.203125 11.097656 A 0.5 0.5 0 0 0 1 11.5 A 0.5 0.5 0 0 0 1.5 12 L 4 12 L 4 20 C 4 20.552 4.448 21 5 21 L 9 21 C 9.552 21 10 20.552 10 20 L 10 14 L 14 14 L 14 20 C 14 20.552 14.448 21 15 21 L 19 21 C 19.552 21 20 20.552 20 20 L 20 12 L 22.5 12 A 0.5 0.5 0 0 0 23 11.5 A 0.5 0.5 0 0 0 22.796875 11.097656 L 12.716797 2.3027344 A 1 1 0 0 0 12.710938 2.296875 A 1 1 0 0 0 12 2 z"></path>
    </svg></button>
      <button class="callout main-button" id="callout-tab" onclick="navigateToPage('callout')"><svg class="icon" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="26" height="26" viewBox="0 0 24 24">
        <path d="M 5.0292969 3.0097656 C 3.8992969 3.0097656 2.9592969 3.9500781 3.0292969 5.0800781 C 3.2942969 9.3490781 5.1336562 13.188344 7.9726562 16.027344 C 10.811656 18.866344 14.650922 20.705703 18.919922 20.970703 C 20.049922 21.040703 20.990234 20.100703 20.990234 18.970703 L 20.990234 17.240234 C 20.990234 16.220234 20.230703 15.37 19.220703 15.25 L 16.699219 14.960938 C 16.089219 14.890937 15.490547 15.099297 15.060547 15.529297 L 13.210938 17.380859 C 11.791937 16.660859 10.504578 15.720422 9.3925781 14.607422 C 8.2795781 13.495422 7.3391406 12.208063 6.6191406 10.789062 L 8.4707031 8.9394531 C 8.9007031 8.5094531 9.1090625 7.9107813 9.0390625 7.3007812 L 8.75 4.7792969 C 8.63 3.7692969 7.7797656 3.0097656 6.7597656 3.0097656 L 5.0292969 3.0097656 z M 13.078125 3.0625 C 12.505125 2.9955 12 3.4464844 12 4.0214844 L 12 4.1054688 C 12 4.5814687 12.349266 4.9938281 12.822266 5.0488281 C 14.549266 5.2508281 16.085359 6.0806875 17.193359 7.3046875 C 18.135359 8.3466875 18.769219 9.673625 18.949219 11.140625 C 19.009219 11.633625 19.433641 12 19.931641 12 L 19.933594 12 C 20.533594 12 21.007594 11.473906 20.933594 10.878906 C 20.425594 6.7899062 17.173125 3.5505 13.078125 3.0625 z M 12.972656 7.1152344 C 12.452893 7.1114473 12 7.530375 12 8.078125 L 12 8.1601562 C 12 8.6181563 12.329484 8.9835625 12.771484 9.1015625 C 13.264484 9.2325625 13.707406 9.4851719 14.066406 9.8261719 C 14.456406 10.197172 14.748531 10.672031 14.894531 11.207031 C 15.019531 11.662031 15.397141 12 15.869141 12 C 16.522141 12 17.004797 11.382 16.841797 10.75 C 16.384797 8.976 14.979266 7.5835312 13.197266 7.1445312 C 13.121391 7.1259062 13.046908 7.1157754 12.972656 7.1152344 z"></path>
      </svg></button>
      <button class="search main-button" id="search-tab" onclick="navigateToPage('search')"><svg class="icon" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="26" height="26" viewBox="0 0 24 24">
        <path d="M 12 3 C 9.794 3 8 4.794 8 7 C 8 9.206 9.794 11 12 11 C 14.206 11 16 9.206 16 7 C 16 4.794 14.206 3 12 3 z M 18.001953 13 C 15.291953 13 13 15.291953 13 18.001953 C 13 20.800953 15.2 23 18 23 C 19 23 20.000781 22.699219 20.800781 22.199219 L 22.310547 23.710938 C 22.697547 24.097938 23.323938 24.097938 23.710938 23.710938 C 24.097938 23.323937 24.097938 22.697547 23.710938 22.310547 L 22.199219 20.800781 C 22.699219 20.000781 23 19 23 18 C 23 15.2 20.800953 13 18.001953 13 z M 11.265625 14.025391 C 8.027625 14.235391 3 15.764 3 18.5 L 3 20 C 3 20.552 3.448 21 4 21 L 10.509766 21 C 11.061766 21 11.432344 20.4675 11.277344 19.9375 C 11.098344 19.3235 11 18.673 11 18 C 11 16.854 11.276625 15.773313 11.765625 14.820312 C 12.004625 14.353312 11.788625 13.991391 11.265625 14.025391 z M 18 15 C 19.7 15 21 16.3 21 18 C 21 19.7 19.7 21 18 21 C 16.3 21 15 19.7 15 18 C 15 16.3 16.3 15 18 15 z"></path>
      </svg></button>
    </div>
  
    <div class="time-display group-time" id="timeDisplay"></div>
  
    <div class="header-right group">
      <button class="shift main-button" id="shift-tab" onclick="navigateToPage('shift')"><svg class="icon" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="26" height="26" viewBox="0 0 24 24">
        <path d="M 12 2 C 6.486 2 2 6.486 2 12 C 2 17.228 6.0333906 21.524031 11.150391 21.957031 C 11.250391 21.594031 11.408328 21.251734 11.611328 20.927734 C 11.748328 20.710734 11.912797 20.504641 12.091797 20.306641 C 12.161797 20.229641 12.234547 20.155031 12.310547 20.082031 C 13.014547 19.395031 13.967906 18.840422 15.128906 18.482422 C 14.431906 17.691422 14 16.66 14 15.5 C 14 12.977 15.977 11 18.5 11 C 19.016 11 19.503938 11.090141 19.960938 11.244141 C 19.960938 11.247141 19.962891 11.252859 19.962891 11.255859 C 20.762891 11.523859 21.44775 12.001766 21.96875 12.634766 C 21.98175 12.423766 22 12.214 22 12 C 22 6.486 17.514 2 12 2 z M 12 6 C 12.552 6 13 6.448 13 7 L 13 12 C 13 12.265 12.895031 12.519031 12.707031 12.707031 L 9.4140625 16 C 9.0240625 16.39 8.39 16.39 8 16 C 7.61 15.61 7.61 14.975938 8 14.585938 L 11 11.585938 L 11 7 C 11 6.448 11.448 6 12 6 z M 18.5 13 A 2.5 2.5 0 0 0 16 15.5 A 2.5 2.5 0 0 0 18.5 18 A 2.5 2.5 0 0 0 21 15.5 A 2.5 2.5 0 0 0 18.5 13 z M 18.5 20 C 15.496 20 13 21.211031 13 22.957031 L 13 23 C 13 23.552 13.448 24 14 24 L 23 24 C 23.552 24 24 23.552 24 23 L 24 22.957031 C 24 21.211031 21.504 20 18.5 20 z"></path>
    </svg></button>
      <button class="court main-button" id="court-tab" onclick="navigateToPage('court')"><svg class="icon" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="26" height="26" viewBox="0 0 24 24">
        <path d="M 12 4 A 2 2 0 0 0 10.269531 5 L 5 5 L 3 5 C 2.448 5 2 5.448 2 6 C 2 6.552 2.448 7 3 7 L 4 7 L 0 15 C 0 17.761 2.239 20 5 20 C 7.761 20 10 17.761 10 15 L 6 7 L 10.271484 7 A 2 2 0 0 0 12 8 A 2 2 0 0 0 13.730469 7 L 18 7 L 14 15 C 14 17.761 16.239 20 19 20 C 21.761 20 24 17.761 24 15 L 20 7 L 21 7 C 21.552 7 22 6.552 22 6 C 22 5.448 21.552 5 21 5 L 13.728516 5 A 2 2 0 0 0 12 4 z M 5 9.0214844 L 7.9882812 15 L 2.0117188 15 L 5 9.0214844 z M 19 9.0214844 L 21.988281 15 L 16.011719 15 L 19 9.0214844 z"></path>
    </svg></button>
      <button class="tenCodes main-button" id="tenCodes-tab"onclick="navigateToPage('tenCodes')"><svg class="icon" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="26" height="26" viewBox="0 0 24 24">
        <path d="M 2 4 L 2 5 L 2.5 5 L 3 5 L 3 7.5 L 3 8 L 4 8 L 4 7.5 L 4 4 L 2.5 4 L 2 4 z M 7 5 L 7 7 L 22 7 L 22 5 L 7 5 z M 2 10 L 2 11 L 2.5 11 L 3.7929688 11 L 2 12.792969 L 2 14 L 4.5 14 L 5 14 L 5 13 L 4.5 13 L 3.2070312 13 L 5 11.207031 L 5 10 L 2.5 10 L 2 10 z M 7 11 L 7 13 L 22 13 L 22 11 L 7 11 z M 2 16 L 2 17 L 2.5 17 L 4 17 L 4 17.5 L 3.5 17.5 L 3 17.5 L 3 18.5 L 3.5 18.5 L 4 18.5 L 4 19 L 2.5 19 L 2 19 L 2 20 L 2.5 20 L 5 20 L 5 18.5 L 5 17.5 L 5 16 L 2.5 16 L 2 16 z M 7 17 L 7 19 L 22 19 L 22 17 L 7 17 z"></path>
        </svg></button>
    </div>
    <div class="header-button-user user-info" id="user-info"></div>
  </div>
  <div class="content">
    <div class="mapPage hidden">
      <input class="mapZoom" type="number" min=".2" max="2.5" step=".05" />
      <iframe src="/map" frameborder="0"></iframe>
    </div>
    <div class="tenCodesPage hidden" id="tenCodes">
      <div class="container">
        <div class="label">
          <div class="name">Code</div>
          <div class="list" id="codeList"></div>
        </div>
        <div class="label">
          <div class="name">Action</div>
          <div class="list" id="actionList"></div>
        </div>
      </div>
    </div>
    <div class="searchPage hidden" id="search">
      <div class="searchPedPage">
        <div class="inpContainer mainInputButtonContainer">
          <input
            type="text"
            class="pedInp mainInput"
            placeholder="Search Persons by Name"/>
          <button class="pedBtn mainButton">Search</button>
        </div>
        <div class="resultContainer">
          <div class="name"></div>
          <div class="informationLabelContainer"></div>
          <div class="citationArrestContainer"></div>
        </div>
        <div class="citationReport reportContainer hidden">
          <div class="options">
            <input
              type="text"
              class="searchCharge"
              placeholder="Search Citation"
            />
          </div>
          <div class="result">
            <div class="headerButtonContainer">
              <div>Citations</div>
              <button onclick="submitCitations()" disabled>Submit</button>
              <button class="close warning" onclick="closeCitations()">
                Close
              </button>
            </div>
            <div class="charges"></div>
            <textarea class="description" placeholder="Description"></textarea>
          </div>
        </div>
        <div class="arrestReport reportContainer hidden">
          <div class="options">
            <input
              type="text"
              class="searchCharge"
              placeholder="Search Charge"
            />
          </div>
          <div class="result">
            <div class="headerButtonContainer">
              <div>Charges</div>
              <button onclick="submitArrests()" disabled>Submit</button>
              <button class="close warning" onclick="closeArrests()">
                Close
              </button>
            </div>
            <div class="charges"></div>
            <textarea class="description" placeholder="Description"></textarea>
          </div>
        </div>
      </div>
      <div class="searchCarPage">
        <div class="inpContainer mainInputButtonContainer">
          <input
            type="text"
            class="carInp mainInput"
            placeholder="Search Vehicle by Plate"
          />
          <button class="carBtn mainButton">Search</button>
        </div>
        <div class="resultContainer">
          <div class="name"></div>
          <div class="informationLabelContainer"></div>
        </div>
      </div>
    </div>
    <div class="courtPage hidden" id="court">
      <div class="inpContainer mainInputButtonContainer">
        <input
          type="text"
          class="pedInp mainInput"
          placeholder="Search Case By Defendant's Name"
        />
        <button class="pedBtn mainButton">Search</button>
      </div>
      <div class="list"></div>
    </div>
    <div class="shiftPage hidden" id="shift" >
      <div class="btnContainer mainInputButtonContainer">
        <button class="startShift mainButton" disabled>Start Shift</button>
        <button class="stopShift mainButton" disabled>End Shift</button>
      </div>
      <div class="title currentShiftTitle"></div>
      <div class="currentShift"></div>
      <div class="title shiftsTitle">Shifts</div>
      <div class="list"></div>
      <div class="incidentReport reportContainer hidden">
        <div class="options"></div>
        <div class="result">
          <div class="headerButtonContainer">
            <button class="submit" disabled="true" onclick="submitIncident()">
              Submit
            </button>
            <button
              class="delete warning"
              disabled="true"
              onclick="deleteIncident()"
            >
              Delete
            </button>
            <button
              class="close warning"
              onclick="document.querySelector('.shiftPage .incidentReport').classList.add('hidden'); renderShiftPage()"
            >
              Close
            </button>
          </div>
          <label for="incidentNumber">Incident Number</label>
          <input type="text" id="incidentNumber" readonly="true" />
          <label class="incidentDescriptionLabel">Description</label>
          <div class="incidentDescriptionPlaceholder">
            Use @, # or $ to link to peds, vehicles or court cases. You can
            search vehicles and court cases by owner / defendant too. Spaces
            in ped's names can be written as "_".
          </div>
          <div
            id="incidentDescription"
            data-ms-editor="false"
            onpaste="return false"
          ></div>
        </div>
      </div>
    </div>
    <div class="welcomePage hidden" id="welcome">
      <div class="welcometitle main-color">Welcome, <span id="user-name">Loading...</span></div>
      <div class="welcomecontainer">
        <div class="welcomeheader">
          <div class="main-color">Badge Number <span id="user-badge"></span></div>
        </div>
        <div class="welcomeheader">
          <div class="subtext main-color box">Total Shifts: <span id="shift-count">Loading...</span> </div>
          <div class="subtext main-color box">Clocked: <span id="total-hours">Loading...</span> </div>
          <div class="subtext main-color box">Incidents: <span id="incident-count">Loading...</span> </div>
          <div class="subtext main-color box">Pending Cases: <span id="court-case-count">Loading...</span> </div>
        </div>
        <div class="horizontal">
          <div class="subtext main-color box">
            <div class="subtitle">Last Shift Summary</div>
            <div class="subtext">Clock In: <span class="thin" id="last-shift-start">Loading...</span> </div>
            <div class="subtext">Clock Out: <span class="thin" id="last-shift-end">Loading...</span> </div>
            <div class="subtext">Incidents: <span class="thin" id="last-shift-incidents">Loading...</span> </div>
            <div class="subtext">Court Cases: <span class="thin" id="last-shift-court-cases">Loading...</span> </div>
          </div>
          <div class="subtext main-color box informationLabels">
            <div class="subtitle">Recent Incidents</div>
            <div class="subtext"><span class="thin" id="recent-incidents">Loading...</span> </div>
          </div>
        </div>
        <div class="box">
          <div class="subtext main-color">Alerts: None</div>
        </div>
      </div>
    </div>
    <div class="calloutPage hidden" id="callout">
    </div>
  </div>
  <div class="overlay">
    <a href="/customization" class="customizationLink">Customize EPC</a>
    <div class="showCurrentID-container hidden">
      <button class="showCurrentID" onclick="showCurrentID()">Show ID</button>
    </div>
    <div class="currentID hidden">
      <div class="title">
        <div class="sa">San Andreas</div>
        <div class="dl">Driver License</div>
      </div>
      <div class="container">
        <img class="imgproperties" src="/defaultMugshot" />
        <div class="properties">
          <div class="lname" data-before="LN"></div>
          <div class="fname" data-before="FN"></div>
          <div class="dob" data-before="DOB"></div>
          <div class="gender" data-before="SEX"></div>
        </div>
      </div>
      <div class="backgroundWrapper">
        <div class="currentIDPedType">Stopped Ped</div>
        <button class="nextCurrentID" onclick="nextCurrentID()"></button>
        <button class="closeCurrentID" onclick="closeCurrentID()">
          Close
        </button>
      </div>
      <button class="hideCurrentID hidden" onclick="hideCurrentID()">
        Hide
      </button>
    </div>
    <div class="warnCustomFilesPopUp hidden">
      <div class="text">
        You still have deprecated custom files installed. Make sure to switch
        to plugins and delete your old custom files. If you need help consider
        joining the
        <a href="http://discord.gg/RW9uy3spVb" target="_blank">Discord</a>.
      </div>
      <button
        class="closeButton"
        onclick="document.querySelector('.warnCustomFilesPopUp').remove()"
      >
        Close
      </button>
    </div>
    <div class="incidentReportLinkSuggestions hidden"></div>
    <div class="windows"></div>
  </div>
</body>
<script src="/main/elements.js" defer></script>
<script src="/main/script.js" defer></script>
<script src="/main/pluginAPI.js" defer></script>
<script src="/main/tenCodes.js" defer></script>
<script src="/customScript" defer></script>
</html>
</div>
